{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7c06efc2\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"formSection\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"please\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \" Veuillez renseigner le formulaire pour créer votre compte \")], -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = {\n  class: \"formDiv\"\n};\nconst _hoisted_5 = {\n  class: \"formLine\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"UserName\",\n  class: \"label\"\n}, [/*#__PURE__*/_createTextVNode(\"Nom \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"asterisque\"\n}, \"*\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = {\n  class: \"formLine\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"UserFirstname\",\n  class: \"label\"\n}, [/*#__PURE__*/_createTextVNode(\"Prénom \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"asterisque\"\n}, \"*\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = {\n  class: \"formLine\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"UserEmail\",\n  class: \"label\"\n}, [/*#__PURE__*/_createTextVNode(\"Email \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"asterisque\"\n}, \"*\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"formLine\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"UserPresentation\",\n  class: \"label\"\n}, \"Présentation\"), /*#__PURE__*/_createElementVNode(\"textarea\", {\n  class: \"smalltextarea input\",\n  type: \"textarea\",\n  placeholder: \"Si vous le souhaitez, vous pouvez vous présenter...\",\n  id: \"UserPresentation\",\n  name: \"UserPresentation\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"formLine\\\" data-v-7c06efc2><label for=\\\"UserDepartement\\\" class=\\\"label\\\" data-v-7c06efc2>Service <span class=\\\"asterisque\\\" data-v-7c06efc2>*</span></label><select class=\\\"input\\\" id=\\\"UserDepartement\\\" name=\\\"UserDepartement\\\" required=\\\"required\\\" data-v-7c06efc2><option value=\\\"...\\\" data-v-7c06efc2>...</option><option value=\\\"communication\\\" data-v-7c06efc2>communication</option><option value=\\\"administration\\\" data-v-7c06efc2>administration</option><option value=\\\"siège\\\" data-v-7c06efc2>siège</option><option value=\\\"R&amp;D\\\" data-v-7c06efc2>R&amp;D</option><option value=\\\"magasin 1\\\" data-v-7c06efc2>magasin 1</option><option value=\\\"magasin 2\\\" data-v-7c06efc2>magasin 2</option><option value=\\\"etc.\\\" data-v-7c06efc2>etc.</option></select></div>\", 1);\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"formLine\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"UserRole\",\n  class: \"label\"\n}, \"Rôle\"), /*#__PURE__*/_createElementVNode(\"textarea\", {\n  class: \"smalltextarea input\",\n  type: \"textarea\",\n  placeholder: \"Quel est votre rôle dans l'entreprise ?\",\n  id: \"UserRole\",\n  name: \"UserRole\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = {\n  class: \"formLine\"\n};\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"UserPassword\",\n  class: \"label\"\n}, [/*#__PURE__*/_createTextVNode(\"Mot de passe \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"asterisque\"\n}, \"*\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"formLine\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"label\"\n}), /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"hint input\"\n}, \"Le mot de passe doit contenir au minimum 8 caractères, dont une majuscule, une minuscule, un chiffre et un caractère spécial.\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"asterisque\",\n  style: {\n    \"text-align\": \"right\"\n  }\n}, \" * Champs requis \", -1\n/* HOISTED */\n));\n\nconst _hoisted_18 = {\n  class: \"btn-div\"\n};\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  class: \"btn\",\n  id: \"UserSignupBtn\",\n  value: \"S'inscrire\",\n  disabled: \"\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_20 = {\n  class: \"add-div\"\n};\nconst _hoisted_21 = {\n  id: \"erreur\"\n};\nconst _hoisted_22 = {\n  class: \"add-div\"\n};\nconst _hoisted_23 = {\n  id: \"erreur\"\n};\nconst _hoisted_24 = {\n  id: \"no-account\",\n  class: \"add-div\"\n};\n\nconst _hoisted_25 = /*#__PURE__*/_createTextVNode(\" Déjà un compte ? \");\n\nconst _hoisted_26 = /*#__PURE__*/_createTextVNode(\"S'authentifier\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"form\", {\n    class: \"formulaire\",\n    method: \"POST\",\n    name: \"form\",\n    id: \"form\",\n    onSubmit: _cache[5] || (_cache[5] = (...args) => $options.signUp && $options.signUp(...args))\n  }, [_createCommentVNode(\"Le Nom\"), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"input\", {\n    class: \"input\",\n    onInput: _cache[0] || (_cache[0] = (...args) => $options.checkForm && $options.checkForm(...args)),\n    type: \"text\",\n    placeholder: \"Entrez votre nom.\",\n    id: \"UserName\",\n    name: \"UserName\",\n    required: \"required\"\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  )]), _createCommentVNode(\"Le Prénom\"), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"input\", {\n    class: \"input\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.checkForm && $options.checkForm(...args)),\n    type: \"text\",\n    placeholder: \"Entrez votre prénom.\",\n    id: \"UserFirstname\",\n    name: \"UserFirstname\",\n    required: \"required\"\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  )]), _createCommentVNode(\"L'Email'\"), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"input\", {\n    class: \"input\",\n    onInput: _cache[2] || (_cache[2] = (...args) => $options.checkForm && $options.checkForm(...args)),\n    type: \"email\",\n    placeholder: \"Entrez une adresse mail valide.\",\n    id: \"UserEmail\",\n    name: \"UserEmail\",\n    required: \"\"\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  )]), _createCommentVNode(\"La Présentation\"), _hoisted_11, _createCommentVNode(\"Le Service\"), _hoisted_12, _createCommentVNode(\"Le Role\"), _hoisted_13, _createCommentVNode(\"Le Mot de passe \"), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createElementVNode(\"input\", {\n    class: \"input\",\n    onInput: _cache[3] || (_cache[3] = (...args) => $options.checkForm && $options.checkForm(...args)),\n    type: \"text\",\n    placeholder: \"N'oubliez pas de noter votre mot de passe.\",\n    id: \"UserPassword\",\n    name: \"UserPassword\",\n    required: \"required\",\n    maxlength: \"30\"\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  )]), _createCommentVNode(\" Avertissement \"), _hoisted_16, _hoisted_17, _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.goBacKToForum()),\n    id: \"CancelBtn\"\n  }, \"Annuler\"), _hoisted_19])], 32\n  /* HYDRATE_EVENTS */\n  ), _withDirectives(_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"p\", _hoisted_21, \" Echec de l'inscription : \" + _toDisplayString($data.message), 1\n  /* TEXT */\n  )], 512\n  /* NEED_PATCH */\n  ), [[_vShow, _ctx.success === false]]), _withDirectives(_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"p\", _hoisted_23, _toDisplayString($data.message), 1\n  /* TEXT */\n  )], 512\n  /* NEED_PATCH */\n  ), [[_vShow, _ctx.success === true]]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"p\", null, [_hoisted_25, _createVNode(_component_router_link, {\n    class: \"no-account-link\",\n    to: \"../login\"\n  }, {\n    default: _withCtx(() => [_hoisted_26]),\n    _: 1\n    /* STABLE */\n\n  })])])])])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","for","type","placeholder","id","name","style","value","disabled","_createElementBlock","_hoisted_3","method","onSubmit","$options","_createCommentVNode","_hoisted_6","onInput","required","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_15","maxlength","_hoisted_16","_hoisted_17","onClick","_hoisted_19","_toDisplayString","$data","_ctx","_createVNode","_component_router_link","to"],"sourceRoot":"","sources":["/Users/stefan/Library/Mobile Documents/com~apple~CloudDocs/08 WEB ET SITES/P7/frontend/src/components/UserSignUpComp.vue"],"sourcesContent":["<template>\n    <section class = \"container\">\n      <div class = \"formSection\">\n\n          <div class=\"please\">\n            <h2 > Veuillez renseigner le formulaire pour créer votre compte </h2>\n          </div>\n\n          <div class = \"formDiv\">\n                    <form     class=\"formulaire\"\n                              method=\"POST\" \n                              name=\"form\" \n                              id=\"form\" \n                              @submit = \"signUp\">\n                              \n\n                              <!--Le Nom-->\n                              <div class=\"formLine\">\n                                        <label\n                                                  for=\"UserName\" \n                                                  class=\"label\">Nom <span class=\"asterisque\">*</span></label>\n                                        <input    class=\"input\" \n                                                  @input = \"checkForm\"    \n                                                  type=\"text\" \n                                                  placeholder=\"Entrez votre nom.\"\n                                                  id=\"UserName\" \n                                                  name=\"UserName\" \n                                                  required=\"required\">\n                              </div>\n\n                              <!--Le Prénom-->\n                              <div class=\"formLine\">\n                                        <label \n                                                  for=\"UserFirstname\" \n                                                  class=\"label\">Prénom <span class=\"asterisque\">*</span></label>\n                                        <input    class=\"input\" \n                                                  @input = \"checkForm\"  \n                                                  type=\"text\" \n                                                  placeholder=\"Entrez votre prénom.\" \n                                                  id=\"UserFirstname\" \n                                                  name=\"UserFirstname\" \n                                                  required=\"required\">\n                              </div>\n\n                              <!--L'Email'-->\n                               <div class=\"formLine\">\n                                        <label    \n                                                  for=\"UserEmail\" \n                                                  class=\"label\">Email <span class=\"asterisque\">*</span></label>\n                                        <input    class=\"input\"\n                                                  @input = \"checkForm\"    \n                                                  type=\"email\" \n                                                  placeholder=\"Entrez une adresse mail valide.\" \n                                                  id=\"UserEmail\"\n                                                  name=\"UserEmail\" \n                                                  required=\"\">\n                              </div>\n\n                              <!--La Présentation-->\n                              <div class=\"formLine\">\n                                        <label \n                                                  for=\"UserPresentation\" \n                                                  class=\"label\">Présentation</label>\n                                        <textarea class=\"smalltextarea input\"\n                                                  type=\"textarea\" \n                                                  placeholder=\"Si vous le souhaitez, vous pouvez vous présenter...\" \n                                                  id=\"UserPresentation\" \n                                                  name=\"UserPresentation\" \n                                                  ></textarea>\n                              </div>\n\n                              <!--Le Service-->\n                              <div class=\"formLine\">\n                                        <label \n                                                  for=\"UserDepartement\" \n                                                  class=\"label\">Service <span class=\"asterisque\">*</span></label>\n                                        \n                                                  <select class=\"input\"\n                                                            id=\"UserDepartement\" \n                                                            name=\"UserDepartement\" \n                                                        \n                                                            required=\"required\">\n                                                                      <option value=\"...\">...</option>\n                                                                      <option value=\"communication\">communication</option>\n                                                                      <option value=\"administration\">administration</option>\n                                                                      <option value=\"siège\">siège</option>\n                                                                      <option value=\"R&amp;D\">R&amp;D</option>\n                                                                      <option value=\"magasin 1\">magasin 1</option>\n                                                                      <option value=\"magasin 2\">magasin 2</option>\n                                                                      <option value=\"etc.\">etc.</option>\n                                                  </select>\n                                                           \n                                        \n                              </div>\n\n                              <!--Le Role-->\n                              <div class=\"formLine\">\n                                        <label    \n                                        for=\"UserRole\" \n                                                  class=\"label\">Rôle</label>\n                                        <textarea class=\"smalltextarea input\"\n                                                  type=\"textarea\" \n                                                  placeholder=\"Quel est votre rôle dans l'entreprise ?\" \n                                                  id=\"UserRole\" \n                                                  name=\"UserRole\"></textarea>\n                              </div>\n\n                              <!--Le Mot de passe -->\n                              <div class=\"formLine\">\n                                        <label    \n                                                  for=\"UserPassword\" \n                                                  class=\"label\">Mot de passe <span class=\"asterisque\">*</span></label>\n                                                  \n                                        <input    class=\"input\"\n                                                  @input = \"checkForm\"    \n                                                  type=\"text\" \n                                                  placeholder=\"N'oubliez pas de noter votre mot de passe.\" \n                                                  id=\"UserPassword\" \n                                                  name=\"UserPassword\" \n                                                  required=\"required\" \n                                                  maxlength=\"30\">\n                              </div>\n\n                              <!-- Avertissement -->\n                              <div class=\"formLine\">\n                                <div class=\"label\"></div>\n                                <p class=\"hint input\">Le mot de passe doit contenir au minimum 8 caractères,\n                                                      dont une majuscule, une minuscule, un chiffre et un caractère spécial.</p>\n                              </div>\n                              \n                              <div class=\"asterisque\" style=\"text-align:right\"> * Champs requis </div>\n\n                              <div class=\"btn-div\">\n                                        <button type=\"button\" class=\"btn\" @click=\"goBacKToForum()\" id=\"CancelBtn\">Annuler</button>\n                                        <input type=\"submit\"  class=\"btn\" id=\"UserSignupBtn\" value=\"S'inscrire\" disabled>        \n                              </div>\n                    </form>\n\n                    \n                    <div class=\"add-div\" v-show=\"success===false\">\n                      <p id=\"erreur\" > Echec de l'inscription : {{message}} </p>\n                    </div>\n\n                    <div class=\"add-div\" v-show=\"success===true\">\n                      <p id=\"erreur\" > {{message}} </p>\n                    </div>\n\n                    <div id=\"no-account\" class=\"add-div\">\n                      <p> Déjà un compte ? <router-link class=\"no-account-link\" to=\"../login\">S'authentifier</router-link> </p>\n                    </div>\n          </div>\n       </div>\n    </section>\n</template>\n\n<script>\nexport default {\n  name: 'UserSignUpComp',\n  data() {\n    return {\n    message :\"\", //message d'erreur\n    }\n  },\n  methods: {\n\n    checkForm() {\n\n      if (document.getElementById(\"UserName\").checkValidity() \n      && document.getElementById(\"UserFirstname\").checkValidity() \n      && document.getElementById(\"UserEmail\").checkValidity()\n      && document.getElementById(\"UserPassword\").checkValidity()) {\n        document.getElementById(\"UserSignupBtn\").disabled = false;\n      }\n      else {document.getElementById(\"UserSignupBtn\").disabled = true}\n    },\n\n     goBacKToForum(){\n      this.$router.push({ name: 'wall' })\n    },\n\n    signUp(e) {\n\n      e.preventDefault()\n\n      const UserName = document.getElementById(\"UserName\").value\n      const UserFirstname = document.getElementById(\"UserFirstname\").value\n      const UserEmail = document.getElementById(\"UserEmail\").value\n      const UserPassword = document.getElementById(\"UserPassword\").value\n      const UserPresentation = document.getElementById(\"UserPresentation\").value\n      const UserDepartement= document.getElementById(\"UserDepartement\").value\n      const UserRole = document.getElementById(\"UserRole\").value;\n      \n      const User = { \"UserName\": UserName,\n                     \"UserFirstname\": UserFirstname,\n                     \"UserEmail\": UserEmail,\n                     \"UserDepartement\": UserDepartement,\n                     \"UserPresentation\": UserPresentation,\n                     \"UserRole\": UserRole,\n                     \"UserPassword\": UserPassword,\n                     //--- la ligne suivante permet de remplir le modèle ----//\n                     //--- c'est le premier administrateur qui autorisera le second à le devenir----///\n                     \"UserHabilitation\":false,\n\n      }\n\n      fetch(\"http://localhost:3000/api/auth/signup\", {\n          method: 'POST',\n          body: JSON.stringify(User),\n          headers: {\"Content-Type\": \"application/json\" },\n          mode :\"cors\"\n      })\n      .then((response) => {\n                    if (response.status == 201) { \n                              response.json()\n                              .then(() => {\n                                    this.success= true;\n                                    this.message = \"Inscription validée.\";\n\n                                    const UserShortCutEmail = User.UserEmail\n                                    const UserShortCutPassword = User.UserPassword\n                                    const UserShortCutHabilitation = User.UserHabilitation\n                                    const UserShortCut = { \"UserEmail\": UserShortCutEmail, \n                                                           \"UserPassword\": UserShortCutPassword,\n                                                           \"UserHabilitation\": UserShortCutHabilitation\n                                                            }\n\n                                    fetch(\"http://localhost:3000/api/auth/login\", {\n                                              method: 'POST',\n                                              body: JSON.stringify(UserShortCut),\n                                              headers: {\"Content-Type\": \"application/json\" },\n                                              mode :\"cors\"\n                                    })\n                                    .then((response) => {\n                                              if (response.status == 200) { \n                                                        response.json()\n                                                        .then((response) => {\n                                                            this.success= true;\n                                                            this.message = \"Authentification effectuée.\";\n                                                            sessionStorage.setItem(\"UserId\", JSON.stringify(response.UserId));\n                                                            sessionStorage.setItem(\"Token\", JSON.stringify(response.token));\n                                                            sessionStorage.setItem(\"i\", JSON.stringify(response.UserHabilitation));\n                                                            setTimeout(this.$router.push({ name: 'wall' }), 3000);\n                                                        })\n                                              } else {\n                                                        response.json ()\n                                                        .then ((json) => {\n                                                        this.success= false;\n                                                        console.log(json);\n                                                        this.message = json.error;\n                                                        })\n                                              }\n                                    })\n                                    .catch (() => {\n                                              this.success= false;\n                                              this.message = `veuillez réessayer ultérieurement`;\n                                    })\n                              })\n                    } else {\n                              response.json ()\n                              .then ((json) => {\n                              this.success= false;\n                              console.log(json);\n                              this.message = json.error.errors[0].message;\n                              })\n                    }\n       })\n      .catch (() => {\n              this.success= false;\n              this.message = `veuillez réessayer ultérieurement`;\n      })         \n    }  \n  }\n}             \n  \n</script>\n\n<style lang=\"scss\" scoped>\n\n#no-account {\n  padding: 1.5rem;\n  font-size : 1.5rem;\n}\n.no-account-link{\n  font-weight: 500;\n  font-size : 2rem;\n  \n}\n\n</style>"]},"metadata":{},"sourceType":"module"}