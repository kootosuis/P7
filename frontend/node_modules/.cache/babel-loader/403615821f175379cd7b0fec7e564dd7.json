{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, vModelText as _vModelText, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, resolveDirective as _resolveDirective, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mainshares shares\"\n};\nconst _hoisted_2 = {\n  class: \"card\",\n  id: \"shareAlone\"\n};\nconst _hoisted_3 = {\n  class: \"card__image\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"card__image--img\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  key: 1,\n  class: \"card__image--img\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"card__info\"\n};\nconst _hoisted_9 = {\n  id: \"oldShareText\"\n};\nconst _hoisted_10 = {\n  class: \"card__info--text card__info--sharetext\"\n};\nconst _hoisted_11 = {\n  id: \"newShareText\"\n};\nconst _hoisted_12 = {\n  class: \"formLine\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"ShareText\",\n  class: \"label\"\n}, \"Votre nouveau texte\", -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = {\n  class: \"btn-div\"\n};\nconst _hoisted_15 = {\n  class: \"card__info--complement\"\n};\nconst _hoisted_16 = {\n  class: \"card__info--complement--firstline\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_createTextVNode(\"Accéder aux données utilisateur\");\n\nconst _hoisted_18 = {\n  hidden: \"\"\n};\nconst _hoisted_19 = {\n  id: \"modifyOrDelete\",\n  class: \"btn-div\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_PostAComment = _resolveComponent(\"PostAComment\");\n\n  const _component_ShareAloneComments = _resolveComponent(\"ShareAloneComments\");\n\n  const _directive_s = _resolveDirective(\"s\");\n\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createCommentVNode(\" LE SHARE \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [$data.MediaUrl.split(`/07media/`)[1] == `feather.png` ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: $data.MediaUrl,\n    style: {\n      \"width\": \"50px\"\n    }\n  }, null, 8\n  /* PROPS */\n  , _hoisted_5)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n    src: $data.MediaUrl\n  }, null, 8\n  /* PROPS */\n  , _hoisted_7)]))]), _createElementVNode(\"div\", _hoisted_8, [_createCommentVNode(\" le texte du share \"), _withDirectives(_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"p\", _hoisted_10, _toDisplayString($data.ShareText), 1\n  /* TEXT */\n  )], 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.modifyForm]]), _createCommentVNode(\" la fenêtre qui s'ouvre pour modifier le texte du share \"), _withDirectives(_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"form\", {\n    type: \"multipart/form-data\",\n    method: \"PUT\",\n    name: \"form\",\n    id: \"ShareToBeCorrected\",\n    onSubmit: _cache[3] || (_cache[3] = (...args) => $options.correctShare && $options.correctShare(...args)),\n    class: \"formulaire\"\n  }, [_createCommentVNode(\"Le Media \"), _createCommentVNode(\" <div class=\\\"formLine\\\">\\n                                                          <label    \\n                                                                    for=\\\"Media\\\" \\n                                                                    class=\\\"label\\\">Votre image, votre GIF</label>\\n                                                          <input    class=\\\"input\\\"\\n                                                                    form=\\\"ShareToBeCorrected\\\" \\n                                                                    @input=\\\"checkForm\\\"\\n                                                                    @change=\\\"uploadImage($event)\\\"\\n                                                                    type=\\\"file\\\"\\n                                                                    accept=\\\"image/png, image/jpg, image/jpeg, image/png, image/gif\\\"\\n                                                                    multiple\\n                                                                    id=\\\"Media\\\" \\n                                                                    name=\\\"file\\\" \\n                                                                  >\\n                                                </div> \"), _createCommentVNode(\" <div id=\\\"formImagePreview\\\">\\n                                                          <img v-if=\\\"file\\\" :src=\\\"file\\\" />\\n                                                </div> \"), _createCommentVNode(\"Le Share\"), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"textarea\", {\n    class: \"bigtextarea textarea input\",\n    form: \"ShareToBeCorrected\",\n    type: \"textarea\",\n    autofocus: \"\",\n    id: \"ShareText\",\n    name: \"ShareText\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.ShareText = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.ShareText]])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.doNotModify()),\n    id: \"CancelBtn\"\n  }, \"Annuler\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.correctShare()),\n    id: \"ShareBtn\"\n  }, \"Mettre à jour\")])], 32\n  /* HYDRATE_EVENTS */\n  )], 512\n  /* NEED_PATCH */\n  ), [[_vShow, !$data.modifyForm]]), _createCommentVNode(\" les infos sur le share (auteur, date, commentaires) \"), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"p\", null, _toDisplayString($data.UserFirstname) + \" \" + _toDisplayString($data.UserName) + \" / \" + _toDisplayString($data.UserDepartement) + \" / \" + _toDisplayString($data.UserRole), 1\n  /* TEXT */\n  ), _withDirectives((_openBlock(), _createElementBlock(\"p\", null, [_createVNode(_component_router_link, {\n    to: `/modifyByAdmin/${$data.userUserId}`\n  }, {\n    default: _withCtx(() => [_hoisted_17]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"])])), [[_directive_s, $data.isAdmin]]), _createElementVNode(\"p\", _hoisted_18, _toDisplayString($data.userUserId), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, _toDisplayString($options.formatDate($data.updatedAt)), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, _toDisplayString($data.apiLength) + \" commentaires\", 1\n  /* TEXT */\n  )])]), _createCommentVNode(\" le bouton pour modifier le texte du share  ou l'effacer quand on en est l'auteur\"), _createElementVNode(\"div\", _hoisted_19, [_withDirectives(_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.GoToCorrectShare()),\n    id: \"modifyShareBtn\"\n  }, \"Corriger\", 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.userUserId === $data.loggedUserId || $data.isAdmin]]), _withDirectives(_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.deleteShare()),\n    id: \"deleteShareBtn\"\n  }, \"Effacer\", 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.userUserId === $data.loggedUserId || $data.isAdmin]])])])]), _createCommentVNode(\" LE BOUTON (et la section) POUR COMMENTER \"), _createCommentVNode(\" n'apparait que si l'auteur du share n'est pas le user loggé \"), $data.loggedUserId != $data.userUserId ? (_openBlock(), _createBlock(_component_PostAComment, {\n    key: 0\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" LES COMMENTAIRES \"), _createVNode(_component_ShareAloneComments)]);\n}","map":{"version":3,"mappings":"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","names":["class","id","_createElementVNode","for","hidden","_createElementBlock","_createCommentVNode","$data","split","src","style","_hoisted_7","_toDisplayString","type","method","name","onSubmit","$options","_hoisted_13","form","autofocus","$event","onClick","_ctx","_createVNode","_component_router_link","to","_createBlock","_component_PostAComment","key","_component_ShareAloneComments"],"sourceRoot":"","sources":["/Users/stefan/Library/Mobile Documents/com~apple~CloudDocs/08 WEB ET SITES/P7/frontend/src/components/ShareAlone.vue"],"sourcesContent":["<template>\n           <section class=\"mainshares shares\">\n\n                    <!-- LE SHARE -->\n                    <div class=\"card\" id=\"shareAlone\" >\n\n                                <div class=\"card__image\" >\n                                    <div class=\"card__image--img\" v-if=\"MediaUrl.split(`/07media/`)[1] == `feather.png`\">\n                                      <img  :src='MediaUrl' style=\"width : 50px\" />           \n                                    </div>\n\n                                    <div class=\"card__image--img\" v-else >\n                                      <img :src='MediaUrl'/>            \n                                    </div>\n                                </div>\n                    \n                                <div class=\"card__info\">\n\n                                    <!-- le texte du share -->\n                                    <div id=\"oldShareText\" v-show=\"modifyForm\">\n                                      <p class=\"card__info--text card__info--sharetext\">{{ ShareText }}</p>\n                                    </div>\n\n                                    <!-- la fenêtre qui s'ouvre pour modifier le texte du share -->\n                                    <div id=\"newShareText\" v-show=\"!modifyForm\">\n                                       <form     \n                                          type=\"multipart/form-data\"\n                                          method=\"PUT\" \n                                          name=\"form\" \n                                          id=\"ShareToBeCorrected\"\n                                          \n                                          @submit = \"correctShare\"\n                                          class=\"formulaire\">\n\n                                                <!--Le Media -->\n                                                <!-- <div class=\"formLine\">\n                                                          <label    \n                                                                    for=\"Media\" \n                                                                    class=\"label\">Votre image, votre GIF</label>\n                                                          <input    class=\"input\"\n                                                                    form=\"ShareToBeCorrected\" \n                                                                    @input=\"checkForm\"\n                                                                    @change=\"uploadImage($event)\"\n                                                                    type=\"file\"\n                                                                    accept=\"image/png, image/jpg, image/jpeg, image/png, image/gif\"\n                                                                    multiple\n                                                                    id=\"Media\" \n                                                                    name=\"file\" \n                                                                  >\n                                                </div> -->\n\n                                                <!-- <div id=\"formImagePreview\">\n                                                          <img v-if=\"file\" :src=\"file\" />\n                                                </div> -->\n                                                \n                                                <!--Le Share-->\n                                                <div class=\"formLine\">\n                                                          <label    \n                                                                    for=\"ShareText\" \n                                                                    class=\"label\">Votre nouveau texte</label>\n                                                          <textarea class=\"bigtextarea textarea input\"\n                                                                    form=\"ShareToBeCorrected\" \n                                                                    type=\"textarea\"\n                                                                    \n                                                                    autofocus\n                                                                    id=\"ShareText\"\n                                                                    name=\"ShareText\"\n                                                                    v-model=\"ShareText\"\n                                                                    ></textarea>\n                                                </div>\n\n                                                <div class=\"btn-div\">\n                                                          <button type=\"button\" class=\"btn\" @click=\"doNotModify()\" id=\"CancelBtn\">Annuler</button>\n                                                          <button type=\"button\" class=\"btn\" @click=\"correctShare()\" id=\"ShareBtn\">Mettre à jour</button>\n                                                </div>\n                        \n                                      </form>\n                                    </div>\n\n                                    <!-- les infos sur le share (auteur, date, commentaires) -->\n\n                                    <div class=\"card__info--complement\">\n\n                                        <div class=\"card__info--complement--firstline\">\n                                          \n                                          <p> {{ UserFirstname}} {{ UserName}} / {{ UserDepartement}} / {{ UserRole}} </p>\n                                          <p v-s=\"isAdmin\"><router-link :to=\"`/modifyByAdmin/${ userUserId }`\">Accéder aux données utilisateur</router-link></p>\n                                          <p hidden>{{ userUserId }}</p>\n                                          <p>{{ formatDate(updatedAt) }}</p>\n                                          <p>{{ apiLength }} commentaires</p>\n                                          \n                                        </div>\n                                    </div>\n\n                                    <!-- le bouton pour modifier le texte du share  ou l'effacer quand on en est l'auteur-->\n                                    <div id=\"modifyOrDelete\" class=\"btn-div\">\n                                          <button v-show=\"userUserId===loggedUserId || isAdmin\" type=\"button\" class=\"btn\" @click=\"GoToCorrectShare()\" id=\"modifyShareBtn\">Corriger</button>\n                                          <button v-show=\"userUserId===loggedUserId || isAdmin\" type=\"button\" class=\"btn\" @click=\"deleteShare()\" id=\"deleteShareBtn\">Effacer</button>\n                                    </div>    \n                                </div>\n\n                    </div>\n\n                    <!-- LE BOUTON (et la section) POUR COMMENTER -->\n                    <!-- n'apparait que si l'auteur du share n'est pas le user loggé -->\n                    <PostAComment v-if=\"loggedUserId!=userUserId\"/>\n\n                    <!-- LES COMMENTAIRES -->\n\n                    <ShareAloneComments/>\n                     \n               \n          </section>\n          \n</template>\n\n<script>\nimport PostAComment from \"@/components/PostAComment.vue\"\nimport ShareAloneComments from \"@/components/ShareAloneComments.vue\"\nimport dayjs from 'dayjs'\nrequire('dayjs/locale/fr')\ndayjs.locale('fr')\n\nexport default {\n          name : 'ShareAlone',\n          components: {\n                              PostAComment,\n                              ShareAloneComments,\n          },\n\n          \n\n          data(){\n                    return{\n\n                            loggedUserId: \"\",\n                            ShareId: \"\", // Le Share\n                            ShareText:\"\",\n                            createdAt: \"\",\n                            updatedAt:\"\",\n                            userUserId:\"\",\n\n                            UserName:\"\", // le createur du Share\n                            UserFirstname:\"\", \n                            UserDepartement:\"\", \n                            UserRole:\"\",\n                            UserEmail:\"\",\n                            UserHabilitation:{\n                              type : Boolean,\n                              default : false\n                            },\n\n                            MediaUrl: \"\", // le Media du Share\n                            MediaDescription : \"\", \n                            apiCommentsResponse : Array,\n                            apiLength : Number,\n\n                            CommentId : \"\",\n                            CommentText : \"\",\n                            CommentcreatedAt : \"\",\n                            CommentupdatedAt : \"\",\n                            CommentuserUserId : \"\", \n\n                            modifyForm :{\n                              type: Boolean,\n                              default: true },\n                            \n                            isAdmin :{\n                              type: Boolean,\n                              default: false },\n\n                    }\n          },\n\n          methods : {\n\n            checkAdmin(){    \n              this.isAdmin = sessionStorage.getItem(\"isAdmin\");\n            },\n\n            formatDate(dateString) {\n                            // import de la donnée\n                            const date = dayjs(dateString);\n                            // formatage\n                            return date.format('dddd D MMMM YYYY , HH:mm');\n                      },\n\n            GoToCorrectShare() {\n                  this.modifyForm = false;\n            },\n            doNoCorrect(){\n                  this.modifyForm = true;\n            },\n\n            correctShare(){\n                    const ShareToBeCorrected = document.getElementById(\"ShareToBeCorrected\");\n                    const ShareId = new URL(window.location.href).hash.split(\"=\")[1];\n                    const Token = JSON.parse(sessionStorage.getItem(\"Token\"));\n                    const Modify = new FormData(ShareToBeCorrected);\n\n                    Modify.append('ShareId',ShareId)\n\n\n                    //--- TEST ---- ///\n                    // for(var pair of Modify.entries()) {\n                    //   console.log(pair[0]+ ', '+ pair[1]);\n                    // }\n\n                    fetch(`http://localhost:3000/api/shares/${ShareId}`, {\n                              method: 'PUT',\n                              headers: {\n                                  \"Accept\":\"*/*\",\n                                  // \"Content-Type\": \"multipart/form-data\", \n                                  \"Authorization\": \"Bearer \" + Token\n                              },\n                              body: Modify,\n                              mode : \"cors\"})\n\n                    .then((response) => {\n\n                              if (response.status == 201) { \n                                        this.success= true;\n                                        this.message = \"Mise à jour effectuée.\";\n                                        this.modifyForm = true;\n                                        this.$router.push({ name: 'wall' });\n                                        this.$router.go(0);\n                                        // history.go(0);\n                              } else {\n                                        response.json ()\n                                        .then ((json) => {\n                                        this.success= false;\n                                        this.message = json.error ||  json.message ;\n                                        return this.message\n                                        })\n                              }\n                    })\n                    .catch (() => {\n                              this.success= false;\n                              this.message = `Le serveur ne répond pas ! Veuillez réessayer ultérieurement`;\n                    })         \n\n            },\n            deleteShare() {\n\n                          const  Token = JSON.parse(sessionStorage.getItem(\"Token\"));\n                          // const loggedUserId=JSON.parse(sessionStorage.getItem(\"UserId\"))\n                          const ShareId = new URL(window.location.href).hash.split(\"=\")[1];\n                          const Share = {\n                            \"ShareId\" : ShareId\n                          }\n\n                          const deleteShare = confirm(\"Le share et tous les commentaires associés vont être effacés\")\n\n                          if (deleteShare){\n                            fetch(`http://localhost:3000/api/shares/${ShareId}`, {\n                              method: 'DELETE',\n                              headers: {\"Content-Type\": \"application/json\", \n                                        \"Authorization\": \"Bearer \" + Token\n                              },\n                              body: JSON.stringify(Share),\n                              mode : \"cors\"\n                            })\n                            .then(() => {\n                              alert(\"Share effacé !\");\n                              setTimeout(this.$router.push({ name: 'wall' }), 3000);\n                            })\n                            .catch( (error) => { alert(error);\n                            })\n                          }else{\n                             this.$router.push({ name: 'wall' });\n                          }\n            },\n          },\n\n          beforeMount () {\n                            const  Token = JSON.parse(sessionStorage.getItem(\"Token\"));\n                            const loggedUserId=JSON.parse(sessionStorage.getItem(\"UserId\"))\n                            const ShareId = new URL(window.location.href).hash.split(\"=\")[1];\n\n                            // LE SHARE       \n                            fetch(`http://localhost:3000/api/shares/${ShareId}`, {\n                            method: 'GET',\n                            headers: {\"Content-Type\": \"application/json\", \n                                      \"Authorization\": \"Bearer \" + Token\n                            },\n                            mode : \"cors\"\n                            })\n                            .then((res) => {\n                              return res.json();\n                            })\n                            .then((res) =>{\n                              this.loggedUserId = loggedUserId;\n                              this.ShareId = res.ShareId; //stocker cela qqpart\n                              this.ShareText = res.ShareText;\n                              this.createdAt = res.createdAt;\n                              this.updatedAt = res.updatedAt;\n                              this.userUserId = res.userUserId; //stocker cela qqpart\n\n                              this.UserName = res.user.UserName;\n                              this.UserFirstname = res.user.UserFirstname;\n                              this.UserDepartement = res.user.UserDepartement;\n                              this.UserRole = res.user.UserRole;\n                              this.UserEmail = res.user.UserEmail;\n\n                              this.MediaUrl = res.medium.MediaUrl;\n                              this.MediaDescription= res.medium.MediaDescription;\n                            })\n                            .catch( (error) => { alert(error);\n                            });\n                           \n                           // LES COMMENTAIRES    \n\n                            fetch(`http://localhost:3000/api/comments/${ShareId}`, {\n                            method: 'GET',\n                            headers: {\"Content-Type\": \"application/json\", \n                                      \"Authorization\": \"Bearer \" + Token\n                            },\n                            mode : \"cors\"\n                            })\n                            .then((res) => {\n                              return res.json();\n                            })\n                            .then((res) =>{\n                              this.apiCommentsResponse=res\n                              this.apiLength = res.length\n                            })\n                            .catch( (error) => { alert(error);\n                            });\n          },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n\n\n</style>"]},"metadata":{},"sourceType":"module"}