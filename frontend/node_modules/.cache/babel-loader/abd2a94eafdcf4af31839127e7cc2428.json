{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/images/icon-above-font.svg';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4295d220\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"navbar\"\n};\nconst _hoisted_2 = {\n  class: \"navbar-container container\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createStaticVNode(\"<input type=\\\"checkbox\\\" name=\\\"main-nav\\\" data-v-4295d220><div class=\\\"hamburger-lines\\\" data-v-4295d220><span class=\\\"line line1\\\" data-v-4295d220></span><span class=\\\"line line2\\\" data-v-4295d220></span><span class=\\\"line line3\\\" data-v-4295d220></span></div>\", 2);\n\nconst _hoisted_5 = {\n  class: \"navbar__items\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Le Forum\");\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"S'inscrire\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"S'authentifier\");\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"Gérér son compte\");\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"Se déconnecter\");\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"logo\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"Logo Groupomania\",\n  id: \"lelogogroupomania\"\n})], -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"ul\", _hoisted_5, [_withDirectives(_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/wall\"\n  }, {\n    default: _withCtx(() => [_hoisted_6]),\n    _: 1\n    /* STABLE */\n\n  })], 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.token]]), _withDirectives(_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/signup\"\n  }, {\n    default: _withCtx(() => [_hoisted_7]),\n    _: 1\n    /* STABLE */\n\n  })], 512\n  /* NEED_PATCH */\n  ), [[_vShow, !$data.token]]), _withDirectives(_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [_hoisted_8]),\n    _: 1\n    /* STABLE */\n\n  })], 512\n  /* NEED_PATCH */\n  ), [[_vShow, !$data.token]]), _withDirectives(_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/modify\"\n  }, {\n    default: _withCtx(() => [_hoisted_9]),\n    _: 1\n    /* STABLE */\n\n  })], 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.token]]), _withDirectives(_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    onClick: _cache[0] || (_cache[0] = $event => $options.logout()),\n    to: \"/deconnect\"\n  }, {\n    default: _withCtx(() => [_hoisted_10]),\n    _: 1\n    /* STABLE */\n\n  })], 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.token]])]), _hoisted_11]), _createElementVNode(\"div\", null, [_withDirectives(_createElementVNode(\"p\", {\n    id: \"authentification\"\n  }, \" Vous êtes authentifié en tant que \" + _toDisplayString($data.UserFirstname) + \" \" + _toDisplayString($data.UserName), 513\n  /* TEXT, NEED_PATCH */\n  ), [[_vShow, $data.token]])])]);\n}","map":{"version":3,"mappings":";OAqByBA,gBAA0C;;;;;AApB1DC,OAAK,EAAC;;;AACFA,OAAK,EAAC;;;;;;AASCA,OAAK,EAAC;;;iDAEqC;;iDACG;;iDACD;;iDACC;;kDACqB;;iEAGvEC,oBAEM,KAFN,EAEM;AAFDD,OAAK,EAAC;AAEL,CAFN,EAAiB,cACbC,oBAA8F,KAA9F,EAA8F;AAAzFC,KAA0C,EAA1CH,UAAyF;AAA9CI,KAAG,EAAC,kBAA0C;AAAvBC,IAAE,EAAC;AAAoB,CAA9F,CADa,CAAjB;;AAAA;;;;;uBAnBZC,oBA4BM,KA5BN,cA4BM,CA3BFJ,oBAqBM,KArBN,cAqBM,CApBFK,UAoBE,EAZEL,oBAOK,IAPL,cAOK,iBALDA,oBAAsE,IAAtE,EAAsE,IAAtE,EAAsE,CAAnDM,aAA8CC,sBAA9C,EAA8C;AAAjCC,MAAE,EAAC;AAA8B,GAA9C,EAAuB;sBAAC,MAAQ,aAAT;;;;AAAA,GAAvB,CAAmD,CAAtE;;AAAA,eAAYC,cAKX,kBAJDT,oBAA2E,IAA3E,EAA2E,IAA3E,EAA2E,CAAvDM,aAAkDC,sBAAlD,EAAkD;AAArCC,MAAE,EAAC;AAAkC,GAAlD,EAAyB;sBAAC,MAAU,aAAX;;;;AAAA,GAAzB,CAAuD,CAA3E;;AAAA,gBAAaC,cAIZ,kBAHDT,oBAA8E,IAA9E,EAA8E,IAA9E,EAA8E,CAA1DM,aAAqDC,sBAArD,EAAqD;AAAxCC,MAAE,EAAC;AAAqC,GAArD,EAAwB;sBAAC,MAAc,aAAf;;;;AAAA,GAAxB,CAA0D,CAA9E;;AAAA,gBAAaC,cAGZ,kBAFDT,oBAAiF,IAAjF,EAAiF,IAAjF,EAAiF,CAA7DM,aAAwDC,sBAAxD,EAAwD;AAA3CC,MAAE,EAAC;AAAwC,GAAxD,EAAyB;sBAAC,MAAgB,aAAjB;;;;AAAA,GAAzB,CAA6D,CAAjF;;AAAA,eAAYC,cAEX,kBADDT,oBAAoG,IAApG,EAAoG,IAApG,EAAoG,CAAhFM,aAA2EC,sBAA3E,EAA2E;AAA7DG,WAAK,sCAAEC,iBAAF,CAAwD;AAA5CH,MAAE,EAAC;AAAyC,GAA3E;sBAA+C,MAAc;;;;GAA7D,CAAgF,CAApG;;AAAA,eAAYC,cACX,CAPL,CAYF,EAHEG,WAGF,CArBN,CA2BE,EALFZ,oBAIM,KAJN,EAIM,IAJN,EAIM,iBAHIA,oBAEI,GAFJ,EAEI;AAFcG,MAAE,EAAC;AAEjB,GAFJ,EAAwC,wCACFU,iBAAIJ,mBAAJ,CADE,GACkB,GADlB,GACmBI,iBAAIJ,cAAJ,CAD3D,EACuE;AAAA;AADvE,KACuE,UAD5DA,YAC4D,EAE3E,CAJN,CAKE,CA5BN","names":["_imports_0","class","_createElementVNode","src","alt","id","_createElementBlock","_hoisted_3","_createVNode","_component_router_link","to","$data","onClick","$options","_hoisted_11","_toDisplayString"],"sourceRoot":"","sources":["/Users/stefan/Library/Mobile Documents/com~apple~CloudDocs/08 WEB ET SITES/P7/frontend/src/components/NavBar.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar\">\n        <div class=\"navbar-container container\">\n            <input type=\"checkbox\" name=\"main-nav\">\n            \n                <div class=\"hamburger-lines\">\n                    <span class=\"line line1\"></span>\n                    <span class=\"line line2\"></span>\n                    <span class=\"line line3\"></span>\n                </div>\n\n                <ul class=\"navbar__items\">\n                    \n                    <li v-show=\"token\"><router-link to=\"/wall\">Le Forum</router-link></li>\n                    <li v-show=\"!token\"><router-link to=\"/signup\">S'inscrire</router-link></li>\n                    <li v-show=\"!token\"><router-link to=\"/login\">S'authentifier</router-link></li>\n                    <li v-show=\"token\" ><router-link to=\"/modify\">Gérér son compte</router-link></li>\n                    <li v-show=\"token\" ><router-link @click=\"logout()\" to=\"/deconnect\">Se déconnecter</router-link></li>\n                </ul>\n\n                <div class=\"logo\" >\n                    <img src=\"../assets/images/icon-above-font.svg\" alt=\"Logo Groupomania\" id=\"lelogogroupomania\">\n                </div>\n        </div>\n        <div>\n                  <p v-show=\"token\" id=\"authentification\"> \n                      Vous êtes authentifié en tant que {{  UserFirstname }} {{  UserName  }}\n                  </p>\n        </div>\n    </nav>\n    \n</template>\n\n<style lang=\"scss\" scoped>\n\n#authentification {\n    font-size : 12px;\n    font-style : italic;\n    text-align: center;\n    background-color: #fed7d7;\n}\n\n</style>\n\n<script>    \n\nexport default {\n    name : 'NavBar',\n\n    data() {\n    return {\n          token: \"\",\n          UserFirstname: \"\",\n          UserName:\"\",\n    }},\n    methods : {\n\n        //-------- le logout efface toutes les données du sessionStorage -------///\n        logout(){\n            sessionStorage.clear();\n            this.$router.push({ name: 'enter'});\n        },\n    },\n    \n    //-------- la NavBar change en fonction de l'existence ou pas d'un Token d'authentification -------///\n    mounted(){\n        \n        if (sessionStorage.getItem(\"Token\")){\n            \n            this.token = JSON.parse(sessionStorage.getItem(\"Token\"));\n            const  UserId = JSON.parse(sessionStorage.getItem(\"UserId\"));\n            const  Token = JSON.parse(sessionStorage.getItem(\"Token\"));\n\n            fetch(`http://localhost:3000/api/auth/${UserId}`, {\n            method: 'GET',\n            headers: {\"Content-Type\": \"application/json\", \n                        \"Authorization\": \"Bearer \" + Token\n            },\n            mode : \"cors\"\n            })\n            .then((res) => {\n                return res.json();\n            })\n            .then((res) =>{\n                this.UserName = res.UserName;\n                this.UserFirstname = res.UserFirstname;\n            })\n            .catch( (error) => { alert(error);\n            });\n        } else {\n            this.token = null\n        }\n    }\n}\n\n</script>"]},"metadata":{},"sourceType":"module"}